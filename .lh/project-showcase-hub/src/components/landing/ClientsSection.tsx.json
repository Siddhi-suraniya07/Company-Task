{
    "sourceFile": "project-showcase-hub/src/components/landing/ClientsSection.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1766168671173,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1766171764399,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n-import { useState } from 'react';\r\n-\r\n+import { useEffect, useState } from 'react';\r\n+import { getClients } from '@/lib/api';\r\n // Default client images\r\n import client1 from '@/assets/client1.jpg';\r\n import client2 from '@/assets/client2.jpg';\r\n import client3 from '@/assets/client3.jpg';\r\n@@ -53,10 +53,33 @@\n   },\r\n ];\r\n \r\n const ClientsSection = () => {\r\n-  const [clients] = useState<Client[]>(defaultClients);\r\n+  const [clients, setClients] = useState<Client[]>(defaultClients);\r\n+  const [loading, setLoading] = useState<boolean>(true);\r\n+  const [error, setError] = useState<string | null>(null);\r\n \r\n+  useEffect(() => {\r\n+    let mounted = true;\r\n+    const fetchClients = async () => {\r\n+      setLoading(true);\r\n+      setError(null);\r\n+      try {\r\n+        const res = await getClients();\r\n+        const apiClients: Client[] = res.data || [];\r\n+        if (mounted) setClients([...defaultClients, ...apiClients]);\r\n+      } catch (err) {\r\n+        console.log('Failed to load clients from API, using default clients', err);\r\n+        if (mounted) setError('Failed to load clients');\r\n+      } finally {\r\n+        if (mounted) setLoading(false);\r\n+      }\r\n+    };\r\n+\r\n+    fetchClients();\r\n+    return () => { mounted = false; };\r\n+  }, []);\r\n+\r\n   const getClientImage = (client: Client, index: number) => {\r\n     if (client.image && client.image.startsWith('http')) {\r\n       return client.image;\r\n     }\r\n@@ -74,9 +97,9 @@\n           <h2 className=\"section-title\">Happy Clients</h2>\r\n         </div>\r\n \r\n         <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 md:gap-6\">\r\n-          {clients.slice(0, 5).map((client, index) => (\r\n+          {clients.map((client, index) => (\r\n             <div \r\n               key={client._id}\r\n               className=\"bg-background rounded-lg p-6 card-shadow animate-fade-in\"\r\n               style={{ animationDelay: `${index * 0.1}s` }}\r\n"
                }
            ],
            "date": 1766168671173,
            "name": "Commit-0",
            "content": "import { useState } from 'react';\r\n\r\n// Default client images\r\nimport client1 from '@/assets/client1.jpg';\r\nimport client2 from '@/assets/client2.jpg';\r\nimport client3 from '@/assets/client3.jpg';\r\nimport client4 from '@/assets/client4.jpg';\r\nimport client5 from '@/assets/client5.jpg';\r\n\r\ninterface Client {\r\n  _id: string;\r\n  name: string;\r\n  description: string;\r\n  designation: string;\r\n  image?: string;\r\n}\r\n\r\nconst defaultClients: Client[] = [\r\n  { \r\n    _id: '1', \r\n    name: 'Rawman Smith', \r\n    designation: 'CEO, Real Estate',\r\n    description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam.',\r\n    image: client1 \r\n  },\r\n  { \r\n    _id: '2', \r\n    name: 'Shipra Kuyak', \r\n    designation: 'Brand Designer',\r\n    description: 'Consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation.',\r\n    image: client2 \r\n  },\r\n  { \r\n    _id: '3', \r\n    name: 'John Lapore', \r\n    designation: 'CEO, Architect',\r\n    description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim.',\r\n    image: client3 \r\n  },\r\n  { \r\n    _id: '4', \r\n    name: 'Marry Freeman', \r\n    designation: 'Marketing Manager',\r\n    description: 'Consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud.',\r\n    image: client4 \r\n  },\r\n  { \r\n    _id: '5', \r\n    name: 'Lucy', \r\n    designation: 'Sales Manager',\r\n    description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad.',\r\n    image: client5 \r\n  },\r\n];\r\n\r\nconst ClientsSection = () => {\r\n  const [clients] = useState<Client[]>(defaultClients);\r\n\r\n  const getClientImage = (client: Client, index: number) => {\r\n    if (client.image && client.image.startsWith('http')) {\r\n      return client.image;\r\n    }\r\n    const defaultImages = [client1, client2, client3, client4, client5];\r\n    return client.image || defaultImages[index % defaultImages.length];\r\n  };\r\n\r\n  return (\r\n    <section id=\"testimonials\" className=\"py-20 bg-realtrust-gray relative\">\r\n      {/* Decorative dot */}\r\n      <div className=\"absolute top-20 left-20 w-6 h-6 rounded-full bg-primary\" />\r\n\r\n      <div className=\"container mx-auto px-4\">\r\n        <div className=\"text-center mb-16\">\r\n          <h2 className=\"section-title\">Happy Clients</h2>\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 md:gap-6\">\r\n          {clients.slice(0, 5).map((client, index) => (\r\n            <div \r\n              key={client._id}\r\n              className=\"bg-background rounded-lg p-6 card-shadow animate-fade-in\"\r\n              style={{ animationDelay: `${index * 0.1}s` }}\r\n            >\r\n              {/* Client Avatar */}\r\n              <div className=\"flex justify-center mb-4\">\r\n                <div className=\"w-16 h-16 rounded-full overflow-hidden border-2 border-primary/20\">\r\n                  <img \r\n                    src={getClientImage(client, index)}\r\n                    alt={client.name}\r\n                    className=\"w-full h-full object-cover\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              {/* Testimonial Text */}\r\n              <p className=\"text-muted-foreground text-xs leading-relaxed mb-4 line-clamp-4\">\r\n                {client.description}\r\n              </p>\r\n\r\n              {/* Client Info */}\r\n              <h4 className=\"text-primary font-semibold text-sm\">{client.name}</h4>\r\n              <p className=\"text-muted-foreground text-xs\">{client.designation}</p>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default ClientsSection;\r\n"
        }
    ]
}